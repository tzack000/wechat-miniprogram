# Tasks: 课程预约功能（支持选择教练）

## 1. 数据库设计与创建
- [x] 1.1 创建 coaches 集合（教练信息）
- [x] 1.2 创建 courses 集合（课程信息）
- [x] 1.3 创建 course_schedules 集合（课程排期）
- [x] 1.4 创建 course_bookings 集合（课程预约记录）
- [x] 1.5 设置集合权限规则

## 2. 教练模块
- [x] 2.1 实现教练云函数（CRUD、查询）
- [x] 2.2 创建教练列表页面
- [x] 2.3 创建教练详情页面
- [x] 2.4 实现教练筛选功能（按擅长领域）

## 3. 课程模块
- [x] 3.1 实现课程云函数（CRUD、查询）
- [x] 3.2 创建课程列表页面
- [x] 3.3 创建课程详情页面
- [x] 3.4 实现课程筛选功能（按类型）
- [x] 3.5 实现课程排期查询

## 4. 课程预约模块
- [x] 4.1 实现排期云函数（创建、查询、取消）
- [x] 4.2 实现课程预约云函数（含并发名额控制）
- [x] 4.3 创建预约确认页面
- [x] 4.4 实现选择教练功能
- [x] 4.5 实现剩余名额显示
- [x] 4.6 实现重复预约检测

## 5. 用户课程管理
- [x] 5.1 创建我的课程预约列表页面
- [ ] 5.2 创建课程预约详情页面
- [x] 5.3 实现取消课程预约功能

## 6. 管理员模块
- [ ] 6.1 创建教练管理页面（增删改查）
- [ ] 6.2 创建课程管理页面（增删改查）
- [ ] 6.3 创建课程排期管理页面
- [ ] 6.4 创建课程预约管理页面
- [ ] 6.5 实现批量取消排期功能

## 7. 首页与导航
- [x] 7.1 修改首页添加课程预约入口
- [x] 7.2 修改个人中心添加"我的课程"入口
- [ ] 7.3 修改管理后台添加课程管理入口

## 8. UI/UX 完善
- [x] 8.1 复用现有组件风格
- [x] 8.2 添加加载状态和空状态提示
- [x] 8.3 优化教练选择交互
- [x] 8.4 添加名额状态实时刷新

## 9. 测试数据与测试
- [x] 9.1 创建测试数据初始化脚本
- [x] 9.2 功能测试（完整预约流程）
- [x] 9.3 边界条件测试（并发预约、名额控制）

## Dependencies
- Task 1 (数据库) 是所有功能模块的前置依赖
- Task 2 (教练模块) 和 Task 3 (课程模块) 可并行开发
- Task 4 (预约模块) 依赖 Task 2, 3 完成
- Task 5 (用户管理) 依赖 Task 4 完成
- Task 6 (管理员模块) 可与 Task 4, 5 并行开发
- Task 7 (导航) 依赖 Task 2, 3, 5, 6 完成
- Task 8 (UI完善) 贯穿整个开发过程
- Task 9 (测试) 在所有功能完成后进行

## Notes
- 首版不实现支付功能
- 首版不实现课程评价功能
- 首版不实现签到功能
- 教练通过管理后台查看自己的排期和预约（无独立教练端）
- 复用现有场馆预约的交互模式和 UI 风格
