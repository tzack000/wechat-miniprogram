# å¾®ä¿¡å°ç¨‹åºé¡¹ç›®é›†åˆ

æœ¬ä»“åº“åŒ…å«ä¸¤ä¸ªå¾®ä¿¡å°ç¨‹åºé¡¹ç›®ï¼šä¸€ä¸ªå·²å®Œæˆçš„åœºé¦†é¢„çº¦ä¸åœè½¦ç®¡ç†ç³»ç»Ÿï¼Œä¸€ä¸ªæ­£åœ¨å¼€å‘ä¸­çš„AIè¯­éŸ³å…‹éš†åº”ç”¨ã€‚

## é¡¹ç›®åˆ—è¡¨

### 1. åœºé¦†é¢„çº¦ä¸åœè½¦ç™»è®°å°ç¨‹åº (venue_parking/)

[![Concurrent Tests](https://github.com/tzack000/wechat-venue-parking-miniprogram/actions/workflows/concurrent-test.yml/badge.svg)](https://github.com/tzack000/wechat-venue-parking-miniprogram/actions/workflows/concurrent-test.yml)
![Test Pass Rate](https://img.shields.io/badge/tests-100%25-brightgreen)

ä¸€ä¸ªåŠŸèƒ½å®Œæ•´ã€ç»è¿‡ç”Ÿäº§éªŒè¯çš„åœºé¦†é¢„çº¦å’Œåœè½¦ç®¡ç†ç³»ç»Ÿã€‚

**é¡¹ç›®çŠ¶æ€**: âœ… å·²å®Œæˆå¹¶æŠ•å…¥ä½¿ç”¨

**æ ¸å¿ƒç‰¹æ€§**:
- ğŸ¯ **å¹¶å‘é¢„çº¦æ§åˆ¶** - é«˜å¹¶å‘ä¸‹ç²¾ç¡®çš„åé¢æ§åˆ¶ï¼Œ100%é˜²æ­¢è¶…é¢
- ğŸ“… **è¯¾ç¨‹ç®¡ç†** - å®Œæ•´çš„è¯¾ç¨‹å’Œæ•™ç»ƒç®¡ç†ç³»ç»Ÿ
- ğŸš— **åœè½¦ç™»è®°** - ä¾¿æ·çš„åœè½¦ä½é¢„çº¦å’Œç®¡ç†
- ğŸŸï¸ **åœºé¦†é¢„çº¦** - çµæ´»çš„åœºé¦†æ—¶é—´æ®µé¢„çº¦
- ğŸ”’ **æ•°æ®ä¸€è‡´æ€§** - äº‹åŠ¡ä¿è¯çš„æ•°æ®ä¸€è‡´æ€§
- âš¡ **é«˜æ€§èƒ½** - 100å¹¶å‘å“åº” < 50ms
- ğŸ¤– **CI/CDè‡ªåŠ¨åŒ–** - æ¯æ¬¡æäº¤è‡ªåŠ¨æµ‹è¯•ï¼Œè´¨é‡æœ‰ä¿éšœ

**æŠ€æœ¯æ ˆ**:
- å‰ç«¯ï¼šå¾®ä¿¡å°ç¨‹åºåŸç”Ÿæ¡†æ¶
- åç«¯ï¼šå¾®ä¿¡äº‘å¼€å‘ï¼ˆäº‘å‡½æ•° + äº‘æ•°æ®åº“ï¼‰
- æµ‹è¯•ï¼šJest + GitHub Actions CI/CD

[æŸ¥çœ‹è¯¦ç»†æ–‡æ¡£](./venue_parking/README.md) | [å¿«é€Ÿéƒ¨ç½²æŒ‡å—](./venue_parking/QUICK_DEPLOY.md)

### 2. è¯­éŸ³å…‹éš†å°ç¨‹åº (voice_cloner/)

[![License: MIT](https://img.shields.io/badge/License-MIT-yellow.svg)](https://opensource.org/licenses/MIT)

åŸºäºæ·±åº¦å­¦ä¹ çš„ä¸ªæ€§åŒ–è¯­éŸ³å…‹éš†ä¸æ–‡æœ¬è½¬è¯­éŸ³(TTS)åº”ç”¨ã€‚

**é¡¹ç›®çŠ¶æ€**: ğŸš§ å¼€å‘ä¸­

**æ ¸å¿ƒåŠŸèƒ½**:
- ğŸ™ï¸ **å£°éŸ³å½•åˆ¶** - å½•åˆ¶ç”¨æˆ·å£°éŸ³æ ·æœ¬ï¼Œæä¾›å‚è€ƒæ–‡æœ¬æŒ‡å¯¼
- ğŸ”Š **è¯­éŸ³åˆæˆ** - è¾“å…¥ä»»æ„æ–‡æœ¬ï¼Œç”Ÿæˆä¸ªæ€§åŒ–è¯­éŸ³
- ğŸ“ **éŸ³é¢‘ç®¡ç†** - æŸ¥çœ‹ã€æ’­æ”¾ã€åˆ†äº«å’Œä¸‹è½½å†å²éŸ³é¢‘
- ğŸ‘¤ **ç”¨æˆ·ä¸­å¿ƒ** - ç®¡ç†å£°çº¹æ¡£æ¡ˆï¼ŒæŸ¥çœ‹ä½¿ç”¨é…é¢

**æŠ€æœ¯æ ˆ**:
- å‰ç«¯ï¼šå¾®ä¿¡å°ç¨‹åº + äº‘å¼€å‘
- åç«¯ï¼šNode.js äº‘å‡½æ•°
- AIæ¨¡å‹ï¼šSV2TTS / YourTTS
- æ·±åº¦å­¦ä¹ ï¼šPyTorch + TorchAudio

[æŸ¥çœ‹è¯¦ç»†æ–‡æ¡£](./voice_cloner/README.md)

---

## ç›®å½•ç»“æ„

```
wechat-miniprogram/
â”œâ”€â”€ venue_parking/                 # åœºé¦†é¢„çº¦ä¸åœè½¦å°ç¨‹åº
â”‚   â”œâ”€â”€ miniprogram/              # å°ç¨‹åºå‰ç«¯
â”‚   â”‚   â”œâ”€â”€ pages/                # é¡µé¢ï¼ˆé¢„çº¦ã€åœè½¦ã€è¯¾ç¨‹ã€ä¸ªäººä¸­å¿ƒç­‰ï¼‰
â”‚   â”‚   â”œâ”€â”€ components/           # è‡ªå®šä¹‰ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ utils/                # å·¥å…·å‡½æ•°
â”‚   â”‚   â””â”€â”€ images/               # å›¾ç‰‡èµ„æº
â”‚   â”œâ”€â”€ cloudfunctions/           # äº‘å‡½æ•°
â”‚   â”‚   â”œâ”€â”€ user/                 # ç”¨æˆ·ç®¡ç†
â”‚   â”‚   â”œâ”€â”€ venue/                # åœºé¦†ç®¡ç†
â”‚   â”‚   â”œâ”€â”€ booking/              # é¢„çº¦ç®¡ç†ï¼ˆæ”¯æŒå¹¶å‘æ§åˆ¶ï¼‰
â”‚   â”‚   â”œâ”€â”€ parking/              # åœè½¦ç®¡ç†
â”‚   â”‚   â”œâ”€â”€ course/               # è¯¾ç¨‹ç®¡ç†
â”‚   â”‚   â”œâ”€â”€ coach/                # æ•™ç»ƒç®¡ç†
â”‚   â”‚   â””â”€â”€ initAllTestData/      # æµ‹è¯•æ•°æ®åˆå§‹åŒ–
â”‚   â”œâ”€â”€ tests/                    # è‡ªåŠ¨åŒ–æµ‹è¯•
â”‚   â”œâ”€â”€ database/                 # æ•°æ®åº“è®¾è®¡æ–‡æ¡£
â”‚   â”œâ”€â”€ docs/                     # é¡¹ç›®æ–‡æ¡£
â”‚   â”œâ”€â”€ .github/workflows/        # GitHub Actions CI/CD
â”‚   â””â”€â”€ project.config.json
â”‚
â”œâ”€â”€ voice_cloner/                 # è¯­éŸ³å…‹éš†å°ç¨‹åº
â”‚   â”œâ”€â”€ miniprogram/              # å°ç¨‹åºå‰ç«¯
â”‚   â”‚   â”œâ”€â”€ pages/                # é¡µé¢
â”‚   â”‚   â”‚   â”œâ”€â”€ index/           # é¦–é¡µ
â”‚   â”‚   â”‚   â”œâ”€â”€ record/          # å½•éŸ³é¡µ
â”‚   â”‚   â”‚   â”œâ”€â”€ synthesize/      # åˆæˆé¡µ
â”‚   â”‚   â”‚   â”œâ”€â”€ audio-list/      # éŸ³é¢‘åˆ—è¡¨
â”‚   â”‚   â”‚   â””â”€â”€ profile/         # ä¸ªäººä¸­å¿ƒ
â”‚   â”‚   â”œâ”€â”€ components/           # è‡ªå®šä¹‰ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ utils/                # å·¥å…·å‡½æ•°
â”‚   â”‚   â””â”€â”€ styles/               # æ ·å¼æ–‡ä»¶
â”‚   â”œâ”€â”€ cloudfunctions/           # äº‘å‡½æ•°
â”‚   â”‚   â”œâ”€â”€ login/                # ç”¨æˆ·ç™»å½•
â”‚   â”‚   â”œâ”€â”€ upload/               # æ–‡ä»¶ä¸Šä¼ 
â”‚   â”‚   â”œâ”€â”€ audioProcess/         # éŸ³é¢‘å¤„ç†
â”‚   â”‚   â”œâ”€â”€ extract/              # ç‰¹å¾æå–
â”‚   â”‚   â”œâ”€â”€ synthesize/           # è¯­éŸ³åˆæˆ
â”‚   â”‚   â”œâ”€â”€ query/                # æ•°æ®æŸ¥è¯¢
â”‚   â”‚   â”œâ”€â”€ cleanup/              # æ¸…ç†ä»»åŠ¡
â”‚   â”‚   â”œâ”€â”€ db-init/              # æ•°æ®åº“åˆå§‹åŒ–
â”‚   â”‚   â””â”€â”€ common/               # å…¬å…±æ¨¡å—
â”‚   â”œâ”€â”€ docs/                     # é¡¹ç›®æ–‡æ¡£
â”‚   â”œâ”€â”€ openspec/                 # OpenSpec è§„æ ¼æ–‡æ¡£
â”‚   â””â”€â”€ project.config.json
â”‚
â”œâ”€â”€ .gitignore
â””â”€â”€ README.md                     # æœ¬æ–‡ä»¶
```

## å¿«é€Ÿå¼€å§‹

### åœºé¦†é¢„çº¦ä¸åœè½¦å°ç¨‹åº

1. **æ‰“å¼€é¡¹ç›®**
   ```bash
   cd venue_parking
   # ä½¿ç”¨å¾®ä¿¡å¼€å‘è€…å·¥å…·æ‰“å¼€æ­¤ç›®å½•
   ```

2. **å¼€é€šäº‘å¼€å‘**
   - åœ¨å¾®ä¿¡å¼€å‘è€…å·¥å…·ä¸­ç‚¹å‡»ã€Œäº‘å¼€å‘ã€æŒ‰é’®
   - æŒ‰æç¤ºåˆ›å»ºäº‘å¼€å‘ç¯å¢ƒå¹¶è®°å½•ç¯å¢ƒID

3. **é…ç½®ç¯å¢ƒ**
   - ä¿®æ”¹ `miniprogram/app.js` ä¸­çš„ç¯å¢ƒID
   - åˆ›å»ºæ•°æ®åº“é›†åˆï¼ˆusersã€venuesã€bookingsã€parking_recordsã€parking_configï¼‰
   - è®¾ç½®æ•°æ®åº“æƒé™è§„åˆ™

4. **éƒ¨ç½²äº‘å‡½æ•°**
   - å³é”®å„äº‘å‡½æ•°æ–‡ä»¶å¤¹é€‰æ‹©ã€Œä¸Šä¼ å¹¶éƒ¨ç½²ï¼šäº‘ç«¯å®‰è£…ä¾èµ–ã€
   - å¿…éœ€äº‘å‡½æ•°ï¼šuserã€venueã€bookingã€parkingã€courseã€coach

5. **åˆå§‹åŒ–æ•°æ®**ï¼ˆæ¨èï¼‰
   - éƒ¨ç½² `initAllTestData` äº‘å‡½æ•°
   - åœ¨äº‘å¼€å‘æ§åˆ¶å°æ‰§è¡Œæµ‹è¯•ï¼Œå³å¯ä¸€é”®ç”Ÿæˆæ‰€æœ‰æµ‹è¯•æ•°æ®

**è¯¦ç»†è¯´æ˜**: æŸ¥çœ‹ [README.md](./venue_parking/README.md) | [3åˆ†é’Ÿå¿«é€Ÿéƒ¨ç½²](./venue_parking/QUICK_DEPLOY.md)

### è¯­éŸ³å…‹éš†å°ç¨‹åº

1. **æ‰“å¼€é¡¹ç›®**
   ```bash
   cd voice_cloner
   # ä½¿ç”¨å¾®ä¿¡å¼€å‘è€…å·¥å…·æ‰“å¼€æ­¤ç›®å½•
   ```

2. **é…ç½®ç¯å¢ƒ**
   - å¼€é€šå¾®ä¿¡äº‘å¼€å‘
   - ä¿®æ”¹ `miniprogram/app.js` ä¸­çš„ç¯å¢ƒID
   - åˆ›å»ºæ•°æ®åº“é›†åˆï¼ˆè¯¦è§é¡¹ç›®æ–‡æ¡£ï¼‰

3. **éƒ¨ç½²äº‘å‡½æ•°**
   - ä¸Šä¼ å¹¶éƒ¨ç½²å„ä¸ªäº‘å‡½æ•°
   - é…ç½®äº‘å­˜å‚¨å’Œæ•°æ®åº“æƒé™

**è¯¦ç»†è¯´æ˜**: æŸ¥çœ‹ [README.md](./voice_cloner/README.md) | [ç¯å¢ƒæ­å»ºæŒ‡å—](./voice_cloner/docs/SETUP.md)

## æŠ€æœ¯æ¶æ„

### åœºé¦†é¢„çº¦å°ç¨‹åº

**å‰ç«¯æŠ€æœ¯**:
- å¾®ä¿¡å°ç¨‹åºåŸç”Ÿæ¡†æ¶ (WXML + WXSS + JavaScript)
- ç»„ä»¶åŒ–å¼€å‘
- äº‘å¼€å‘SDK

**åç«¯æŠ€æœ¯**:
- å¾®ä¿¡äº‘å¼€å‘ï¼ˆServerlessæ¶æ„ï¼‰
- äº‘å‡½æ•°ï¼ˆNode.jsï¼‰
- äº‘æ•°æ®åº“ï¼ˆMongoDBé£æ ¼ï¼‰
- äº‘å­˜å‚¨ï¼ˆå¯¹è±¡å­˜å‚¨ï¼‰

**æ ¸å¿ƒäº®ç‚¹**:
- åŸºäºäº‹åŠ¡çš„å¹¶å‘é¢„çº¦æ§åˆ¶
- å®Œæ•´çš„CI/CDæµ‹è¯•æµç¨‹
- 100%æµ‹è¯•è¦†ç›–ç‡ï¼ˆå¹¶å‘åœºæ™¯ï¼‰

### è¯­éŸ³å…‹éš†å°ç¨‹åº

**å‰ç«¯æŠ€æœ¯**:
- å¾®ä¿¡å°ç¨‹åºåŸç”Ÿæ¡†æ¶
- éŸ³é¢‘å½•åˆ¶ä¸æ’­æ”¾API
- äº‘å¼€å‘SDK

**åç«¯æŠ€æœ¯**:
- äº‘å‡½æ•°ï¼ˆNode.jsï¼‰
- äº‘æ•°æ®åº“ï¼ˆMongoDBé£æ ¼ï¼‰
- äº‘å­˜å‚¨ï¼ˆéŸ³é¢‘æ–‡ä»¶å­˜å‚¨ï¼‰

**AIæŠ€æœ¯**:
- è¯­éŸ³å…‹éš†æ¨¡å‹ï¼šSV2TTS / YourTTS
- æ·±åº¦å­¦ä¹ æ¡†æ¶ï¼šPyTorch + TorchAudio
- éŸ³é¢‘å¤„ç†ï¼šLibrosa + FFmpeg

## é¡¹ç›®ç‰¹ç‚¹

### ç”Ÿäº§çº§è´¨é‡
- âœ… å®Œæ•´çš„è‡ªåŠ¨åŒ–æµ‹è¯•
- âœ… CI/CDæŒç»­é›†æˆ
- âœ… è¯¦ç»†çš„æŠ€æœ¯æ–‡æ¡£
- âœ… è§„èŒƒçš„ä»£ç æäº¤

### æœ€ä½³å®è·µ
- âœ… å‰åç«¯åˆ†ç¦»
- âœ… æ¨¡å—åŒ–è®¾è®¡
- âœ… é”™è¯¯å¤„ç†å’Œæ—¥å¿—
- âœ… å®‰å…¨æ€§å’Œæƒé™æ§åˆ¶

### æ˜“äºéƒ¨ç½²
- âœ… è¯¦ç»†éƒ¨ç½²æŒ‡å—
- âœ… ä¸€é”®æ•°æ®åˆå§‹åŒ–
- âœ… å®Œæ•´çš„ç¯å¢ƒé…ç½®è¯´æ˜

## è´¡çŒ®æŒ‡å—

æ¬¢è¿æäº¤ Issue å’Œ Pull Requestï¼

### åœºé¦†é¢„çº¦å°ç¨‹åºè´¡çŒ®è¦æ±‚
æäº¤ä»£ç å‰è¯·ç¡®ä¿ï¼š
1. è¿è¡Œ `npm test` é€šè¿‡æ‰€æœ‰æµ‹è¯•
2. ä»£ç ç¬¦åˆé¡¹ç›®è§„èŒƒ
3. æ·»åŠ å¿…è¦çš„æµ‹è¯•ç”¨ä¾‹
4. æ›´æ–°ç›¸å…³æ–‡æ¡£

### è¯­éŸ³å…‹éš†å°ç¨‹åºè´¡çŒ®è¦æ±‚
1. éµå¾ªé¡¹ç›®ä»£ç è§„èŒƒ
2. æ·»åŠ å¿…è¦çš„æ³¨é‡Šå’Œæ–‡æ¡£
3. æµ‹è¯•åŠŸèƒ½æ­£å¸¸è¿è¡Œ

### æäº¤è§„èŒƒ

éµå¾ª Conventional Commits è§„èŒƒï¼š

- `feat`: æ–°åŠŸèƒ½
- `fix`: ä¿®å¤bug
- `docs`: æ–‡æ¡£æ›´æ–°
- `style`: ä»£ç æ ¼å¼è°ƒæ•´ï¼ˆä¸å½±å“åŠŸèƒ½ï¼‰
- `refactor`: é‡æ„ï¼ˆä¸å¢åŠ æ–°åŠŸèƒ½æˆ–ä¿®å¤bugï¼‰
- `test`: æµ‹è¯•ç›¸å…³
- `chore`: æ„å»º/å·¥å…·ç›¸å…³

ç¤ºä¾‹ï¼š
```bash
git commit -m "feat: æ·»åŠ è¯¾ç¨‹é¢„çº¦åŠŸèƒ½"
git commit -m "fix: ä¿®å¤å¹¶å‘é¢„çº¦è¶…é¢é—®é¢˜"
git commit -m "docs: æ›´æ–°éƒ¨ç½²æŒ‡å—"
```

## è®¸å¯è¯

MIT License - æŸ¥çœ‹ [LICENSE](LICENSE) æ–‡ä»¶äº†è§£è¯¦æƒ…

## ä½œè€…

[@tzack000](https://github.com/tzack000)

## è”ç³»æ–¹å¼

- é¡¹ç›®é—®é¢˜ï¼š[GitHub Issues](https://github.com/tzack000/wechat-miniprogram/issues)
- åŠŸèƒ½å»ºè®®ï¼šæ¬¢è¿åœ¨ Issues ä¸­è®¨è®º

## è‡´è°¢

- å¾®ä¿¡å°ç¨‹åºå›¢é˜Ÿæä¾›çš„ä¼˜ç§€å¼€å‘å¹³å°
- å¾®ä¿¡äº‘å¼€å‘æä¾›çš„ Serverless èƒ½åŠ›
- MockingBird / SV2TTS è¯­éŸ³å…‹éš†é¡¹ç›®
- æ‰€æœ‰ä¸ºæœ¬é¡¹ç›®è´¡çŒ®çš„å¼€å‘è€…

---

**â­ å¦‚æœè¿™ä¸ªé¡¹ç›®å¯¹æ‚¨æœ‰å¸®åŠ©ï¼Œæ¬¢è¿ Starï¼**

## ç›¸å…³èµ„æº

- [å¾®ä¿¡å°ç¨‹åºå®˜æ–¹æ–‡æ¡£](https://developers.weixin.qq.com/miniprogram/dev/framework/)
- [å¾®ä¿¡äº‘å¼€å‘æ–‡æ¡£](https://developers.weixin.qq.com/miniprogram/dev/wxcloud/basis/getting-started.html)
- [GitHub Actions æ–‡æ¡£](https://docs.github.com/cn/actions)
